<p align="center">
    <h1 align="center">Work-test</h1>
    <h2 align="center">Тестовое задание</h2>
</p>

УСТАНОВКА
-------------------

1. Выполнить git clone в консоле:
  ~~~
    $ git clone https://github.com/Smiley-Alyx/work-test.git
  ~~~

ЧАСТЬ WEB
---------

Web-сервис представляет собой страницу с авторизацией пользователя, с возможностью регистрации и смены пароля и данных.

### Установка:

Для запуска приложения настройте сервер на директорию входного скрипта `index.php`, находящегося в каталоге `web`, 
а так же установите конфигурацию в файле `config.php`.

### Структура приложения:

    --includes/                  	Включаемые файлы
        --database.php             	Подключение к базе данных
		--library.php             	Включаемые функции
		--authentication/			Данные аутентификации
			--auth.php				Скрипт аутентификации
			--auth_form.html		Файл с формой аутентификации
			--show.php				Скрипт с выводом дополнительных данных
		--lk/						Данные личного кабинета
			--lk.php				Скрипт личного кабинета
			--lk_form.html			Файл с формой личного кабинета
			--show.php				Скрипт с выводом дополнительных данных
			--user.php				Скрипт вывода данных о пользователе
		--registration/				Данные регистрации
			--reg.php               Скрипт регистрации
			--reg_form.html         Файл с формой регистрации
			--show.php              Скрипт с выводом дополнительных данных
    --css/                      	CSS-стили
        --style.css     			Файл со стилями
	--html/                      	CSS-стили
        --index.html     			Файл со стилями
		--404.html     				Файл со стилями
	--index.php                     Входной скрипт приложения
	--config.php					Конфигурационный скрипт
	--dump.sql						Дамп базы данных


ЧАСТЬ БД
---------

В каталоге `database` лежит файл `bars_test.sql`, который является дампом и содержит структуру таблиц БД.

### Задание 1.

Составить запрос, который выведет список email'лов встречающихся более чем у одного пользователя.

```sql
SELECT `email` 
FROM `users` 
GROUP BY `email` 
HAVING COUNT(`email`) > 1
```

### Задание 2.

Вывести список логинов пользователей, которые не сделали ни одного заказа.

```sql
SELECT `t1`.`login` 
FROM `users` AS `t1`
LEFT JOIN `orders` AS `t2` ON (`t2`.`user_id` = `t1`.`id`)
WHERE `t2`.`user_id` IS NULL
```

### Задание 3.

Вывести список логинов пользователей которые сделали более двух заказов.

```sql
SELECT `t1`.`login` 
FROM `users` AS `t1`
INNER JOIN `orders` AS `t2` ON (`t2`.`user_id` = `t1`.`id`)
GROUP BY `t1`.`login`
HAVING COUNT(`t2`.`user_id`) > 2
```
